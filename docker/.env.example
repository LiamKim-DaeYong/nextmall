# ===========================================
# Docker Compose 환경 변수
# - docker-compose.yml: 인프라 (postgres, redis, kafka)
# - docker-compose.e2e.yml: E2E 테스트 전체 환경
# ===========================================

# PostgreSQL Container
POSTGRES_USER=nextmall
POSTGRES_PASSWORD=CHANGE_ME
POSTGRES_DB=nextmall
POSTGRES_PORT=5432

# Redis
REDIS_HOST=redis
REDIS_PORT=6379

# Observability
GRAFANA_PORT=3000
GRAFANA_USER=admin
GRAFANA_PASSWORD=CHANGE_ME
PROMETHEUS_PORT=9090
LOKI_PORT=3100
TEMPO_PORT=3200
OTEL_COLLECTOR_GRPC_PORT=4317
OTEL_COLLECTOR_HTTP_PORT=4318
OTEL_EXPORTER_OTLP_TRACES_ENDPOINT=http://otel-collector:4318/v1/traces
OTEL_EXPORTER_OTLP_METRICS_ENDPOINT=http://otel-collector:4318/v1/metrics
OTEL_TRACING_SAMPLING_PROBABILITY=1.0

# Kafka
KAFKA_BOOTSTRAP_SERVERS=kafka:9092
KAFKA_PORT=9092

# Database - Auth Service
AUTH_DB_URL=jdbc:postgresql://postgres:5432/nextmall
AUTH_DB_USERNAME=nextmall
AUTH_DB_PASSWORD=CHANGE_ME

# Database - User Service
USER_DB_URL=jdbc:postgresql://postgres:5432/nextmall
USER_DB_USERNAME=nextmall
USER_DB_PASSWORD=CHANGE_ME

# Database - Product Service
PRODUCT_DB_URL=jdbc:postgresql://postgres:5432/nextmall
PRODUCT_DB_USERNAME=nextmall
PRODUCT_DB_PASSWORD=CHANGE_ME

# Database - Order Service
ORDER_DB_URL=jdbc:postgresql://postgres:5432/nextmall
ORDER_DB_USERNAME=nextmall
ORDER_DB_PASSWORD=CHANGE_ME

# Database - Checkout Service
CHECKOUT_DB_URL=jdbc:postgresql://postgres:5432/nextmall
CHECKOUT_DB_USERNAME=nextmall
CHECKOUT_DB_PASSWORD=CHANGE_ME

# JWKS (auth-service endpoint - container name)
AUTH_JWKS_URI=http://auth-service:8081/.well-known/jwks.json

# Token - External (JWKS 기반, 클라이언트용)
TOKEN_EXTERNAL_ACCESS_EXPIRATION=3600000
TOKEN_EXTERNAL_REFRESH_EXPIRATION=1209600000
TOKEN_EXTERNAL_PRIVATE_KEY=CHANGE_ME
TOKEN_EXTERNAL_PUBLIC_KEY=CHANGE_ME
TOKEN_EXTERNAL_KEY_ID=nextmall-key-1

# Token - Passport (서비스 간 통신용)
TOKEN_PASSPORT_SECRET=CHANGE_ME
